<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
    crossorigin="anonymous"
  />
    <link rel="stylesheet" href="./assets/formstyle.css">
</head>
<body>
    <div class="container">
        
        <div class="title">REGISTER</div>
        <form method="post" autocomplete="off" name="google-sheet">
            <div class="user-details">
                <div class="input-box">
                    <span class="details">Full name</span>
                    <input type="text" placeholder="Enter your name" name="Name" required>
                </div>
                <div class="input-box">
                    <span class="details">Email</span>
                    <input type="email" placeholder="Enter your Email" name="Email" required>
                </div>
                <div class="input-box">
                    <span class="details">Phone Number</span>
                    <input type="number" placeholder="Enter your number" name="Phone" required>
                </div>
                <div class="input-box">
                    <span class="details">Country you reside in</span>
                    <input type="text" placeholder="Enter your Country" name="Country">
                </div>
                <div class="input-box">
                    <span class="details">College/University</span>
                    <input type="text" placeholder="College/University" name="College/University">
                </div>
                <div class="input-box">
                    <span class="details">Profession</span>
                    <input type="text" placeholder="Enter your profession" name="Profession">
                </div>
            </div>
            <div class="gender-details">
                <input type="radio" name="Guaranteed" id="dot-1" value="Yes">
                <input type="radio" name="Guaranteed" id="dot-2" value="No">
                <!-- <input type="radio" name="gender" id="dot-3"> -->
                <span class="gender-title">Once registered, are you guaranteed to attend all the webinars and workshops?</span>
                <div class="category">
                    <label for="dot-1">
                        <span class="dot one"></span>
                        <span class="gender">Yes</span>
                    </label>
                    <label for="dot-2">
                        <span class="dot two"></span>
                        <span class="gender">No</span>
                    </label>
                </div>
            </div>
            <div class="button">
                <!-- <input type="submit" name="submit" class="btnSubmit btn-block" value="SUBMIT" data-modal-target="modal1"/> -->
                <a href="./redirect.html">
                  <input type="submit" class="btnSubmit btn-block" value="SUBMIT">
                </a>
              </form>
    </div>
    <script>
        const scriptURL = 'https://script.google.com/macros/s/AKfycbxgV1TsHypDS5MPwXCMpnj60oKegRcskMQqA2Q34VENcHTRyK8Jsfs3W7wd6OkpO96V/exec'
        const form = document.forms['google-sheet']
      
        form.addEventListener('submit', e => {
          e.preventDefault()
          fetch(scriptURL, { method: 'POST', body: new FormData(form)})
            .then(response => alert("Succesfully Registered!"))
            .catch(error => console.error('Error!', error.message))
        })
// ----------- Modal JS---------------

        const modalTriggerButtons = document.querySelectorAll("[data-modal-target]");
const modals = document.querySelectorAll(".modal");
const modalCloseButtons = document.querySelectorAll(".modal-close");

modalTriggerButtons.forEach(elem => {
  elem.addEventListener("click", event => toggleModal(event.currentTarget.getAttribute("data-modal-target")));
});
modalCloseButtons.forEach(elem => {
  elem.addEventListener("click", event => toggleModal(event.currentTarget.closest(".modal").id));
});
modals.forEach(elem => {
  elem.addEventListener("click", event => {
    if(event.currentTarget === event.target) toggleModal(event.currentTarget.id);
  });
});

// Maybe also close with "Esc"...
document.addEventListener("keydown", event => {
  if(event.keyCode === 27 && document.querySelector(".modal.modal-show")) {
    toggleModal(document.querySelector(".modal.modal-show").id);
  }
});

function toggleModal(modalId) {
  const modal = document.getElementById(modalId);

  if(getComputedStyle(modal).display==="flex") { // alternatively: if(modal.classList.contains("modal-show"))
    modal.classList.add("modal-hide");
    setTimeout(() => {
      document.body.style.overflow = "initial"; // Optional: in order to enable/disable page scrolling while modal is hidden/shown - in this case: "initial" <=> "visible"
      modal.classList.remove("modal-show", "modal-hide");
      modal.style.display = "none";      
    }, 200);
  }
  else {
    document.body.style.overflow = "hidden"; // Optional: in order to enable/disable page scrolling while modal is hidden/shown
    modal.style.display = "flex";
    modal.classList.add("modal-show");
  }
}
      </script>
</body>
</html>